(this.webpackJsonpyoubox=this.webpackJsonpyoubox||[]).push([[0],{268:function(e,t,r){},272:function(e,t,r){},274:function(e,t,r){},276:function(e,t,r){},277:function(e,t,r){},278:function(e,t,r){},279:function(e,t,r){},292:function(e,t){},294:function(e,t){},305:function(e,t){},307:function(e,t){},334:function(e,t){},336:function(e,t){},337:function(e,t){},342:function(e,t){},344:function(e,t){},363:function(e,t){},375:function(e,t){},378:function(e,t){},411:function(e,t,r){"use strict";r.r(t);var a=r(3),n=r(0),o=r.n(n),i=r(21),s=r.n(i),c=(r(268),r(114)),l=r(29),d=r(32),u=r(33),h=r(36),j=r(35),p=r(468),b=r(16),f=r(445),v=r(467),y=r(452),O=r(453),m=r(83),g=r(40),x="SET_USER",_="UNSET_USER",w="REGISTER_SUCCESS",E="REGISTER_ERROR",k="LOGIN_SUCCESS",R="LOGIN_ERROR",S="REGISTER_USER",C="LOGIN",P="FORGOT_PASSWORD";r(272);var V=function(e){Object(h.a)(r,e);var t=Object(j.a)(r);function r(e){var a;return Object(d.a)(this,r),(a=t.call(this,e)).state={form_error:{field1:{error:!1,msg:""},field2:{error:!1,msg:""}}},a.emailRef=Object(n.createRef)(),a.passwordRef=Object(n.createRef)(),a.loginHandler=a.loginHandler.bind(Object(b.a)(a)),a.forgetPasswordHandler=a.forgetPasswordHandler.bind(Object(b.a)(a)),a}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.login_status.success&&this.props.user.userId.length>0&&this.props.history.push("/home")}},{key:"componentDidUpdate",value:function(e){e.login_status!==this.props.login_status&&this.props.login_status.success&&this.props.user.userId.length>0&&this.props.history.push("/home")}},{key:"loginHandler",value:function(){var e=this.emailRef.current?this.emailRef.current.value:void 0,t=this.passwordRef.current?this.passwordRef.current.value:void 0,r={error:!1,msg:""},a={error:!1,msg:""};e&&t&&e.length>0&&t.length>0?this.props.loginUser({email:e,password:t}):(void 0!==e&&0!==e.length||(r={error:!0,msg:"email is required"}),void 0!==t&&0!==t.length||(a={error:!0,msg:"password is required"})),this.setState({form_error:{field1:r,field2:a}})}},{key:"forgetPasswordHandler",value:function(){var e=this.emailRef.current?this.emailRef.current.value:void 0,t={error:!1,msg:""};e&&e.length>0?this.props.forgotPassword({email:e}):t={error:!0,msg:"email is required"},this.setState({form_error:{field1:t,field2:{error:!1,msg:""}}})}},{key:"render",value:function(){return Object(a.jsx)(p.a,{className:"login_pane",children:Object(a.jsxs)(f.a,{alignContent:"center",justify:"space-between",container:!0,children:[Object(a.jsx)(p.a,{className:"brand_name",children:"YouBox"}),Object(a.jsxs)(p.a,{children:[Object(a.jsxs)(f.a,{alignContent:"center",alignItems:"center",className:"login_button_group",children:[Object(a.jsx)(v.a,{id:"username_text",label:"email",variant:"outlined",type:"email",size:"small",inputRef:this.emailRef,error:this.state.form_error.field1.error,helperText:this.state.form_error.field1.msg}),Object(a.jsx)(v.a,{id:"password_text",label:"password",variant:"outlined",type:"password",size:"small",inputRef:this.passwordRef,error:this.state.form_error.field2.error,helperText:this.state.form_error.field2.msg}),Object(a.jsx)(y.a,{variant:"contained",color:"primary",size:"medium",onClick:this.loginHandler,children:"Login"}),Object(a.jsx)(O.a,{component:"button",onClick:this.forgetPasswordHandler,children:"Forgot password?"})]}),Object(a.jsx)(p.a,{hidden:!this.props.login_status.failure,marginLeft:"1.5%",children:Object(a.jsx)(m.a,{variant:"caption",display:"block",color:"error",gutterBottom:!0,children:this.props.login_status.message})})]})]})})}}]),r}(n.Component);var A=Object(l.f)(Object(g.b)((function(e){return{user:e.user,login_status:e.user.login_status}}),(function(e){return{loginUser:function(t){return e({type:C,payload:t})},forgotPassword:function(t){return e({type:P,payload:t})}}}))(V)),T=r(454),I=r(451),N=r(455),D=r(456),U=r(457),F=r(76),L=r.n(F),B=r(75),H=r.n(B),W=r(458),z=(r(274),function(e){Object(h.a)(r,e);var t=Object(j.a)(r);function r(e){var a;return Object(d.a)(this,r),(a=t.call(this,e)).state={form_validity:{cond1:!1,cond2:!0,cond3:!1,cond4:!1,cond5:!1,cond6:!1,cond7:!1},form_error:{field1:{error:!1,msg:""},field2:{error:!1,msg:""},field3:{error:!1,msg:""},field4:{error:!1,msg:""}},loading:!1},a.nameRef=Object(n.createRef)(),a.emailRef=Object(n.createRef)(),a.passwordRef=Object(n.createRef)(),a.confirmPasswordRef=Object(n.createRef)(),a.passwordValidator=a.passwordValidator.bind(Object(b.a)(a)),a.confirmPasswordHandler=a.confirmPasswordHandler.bind(Object(b.a)(a)),a.submit=a.submit.bind(Object(b.a)(a)),a}return Object(u.a)(r,[{key:"componentDidUpdate",value:function(e){e.register_status!==this.props.register_status&&this.setState({loading:!1})}},{key:"submit",value:function(){var e=!1,t={error:!1,msg:""},r={error:!1,msg:""},a={error:!1,msg:""},n={error:!1,msg:""};void 0!==this.nameRef.current&&0!==this.nameRef.current.value.length||(t={error:!0,msg:"required field"}),void 0!==this.emailRef.current&&0!==this.emailRef.current.value.length||(r={error:!0,msg:"required field"}),void 0!==this.passwordRef.current&&0!==this.passwordRef.current.value.length||(a={error:!0,msg:"required field"}),void 0!==this.confirmPasswordRef.current&&0!==this.confirmPasswordRef.current.value.length||(n={error:!0,msg:"required field"}),!t.error&&!r.error&&!a.error&&!n.error&&this.state.form_validity.cond1&&this.state.form_validity.cond2&&this.state.form_validity.cond3&&this.state.form_validity.cond4&&this.state.form_validity.cond5&&this.state.form_validity.cond6&&this.state.form_validity.cond7&&(this.props.registerUser({name:this.nameRef.current.value,email:this.emailRef.current.value,password:this.passwordRef.current.value}),e=!0),this.setState({form_error:{field1:t,field2:r,field3:a,field4:n},loading:e})}},{key:"confirmPasswordHandler",value:function(e){var t=!1;this.passwordRef.current.value===e.target.value&&(t=!0),this.setState({form_validity:{cond1:this.state.form_validity.cond1,cond2:this.state.form_validity.cond2,cond3:this.state.form_validity.cond3,cond4:this.state.form_validity.cond4,cond5:this.state.form_validity.cond5,cond6:this.state.form_validity.cond6,cond7:t}})}},{key:"passwordValidator",value:function(e){var t=e.target.value,r=!1,a=!0,n=!1,o=!1,i=!1,s=!1;t.length>=6&&(r=!0),t.length>16&&(a=!1),t.match(/(?=.*[0-9])/)&&(n=!0),t.match(/(?=.*[!@#$!])/)&&(o=!0),t.match(/[A-Z]/)&&(i=!0),t.match(/[a-z]/)&&(s=!0),this.setState({form_validity:{cond1:r,cond2:a,cond3:n,cond4:o,cond5:i,cond6:s,cond7:this.state.form_validity.cond7}})}},{key:"render",value:function(){var e=[this.state.form_validity.cond1?Object(a.jsx)(H.a,{}):Object(a.jsx)(L.a,{}),this.state.form_validity.cond2?Object(a.jsx)(H.a,{}):Object(a.jsx)(L.a,{}),this.state.form_validity.cond3?Object(a.jsx)(H.a,{}):Object(a.jsx)(L.a,{}),this.state.form_validity.cond4?Object(a.jsx)(H.a,{}):Object(a.jsx)(L.a,{}),this.state.form_validity.cond5?Object(a.jsx)(H.a,{}):Object(a.jsx)(L.a,{}),this.state.form_validity.cond6?Object(a.jsx)(H.a,{}):Object(a.jsx)(L.a,{}),this.state.form_validity.cond7?Object(a.jsx)(H.a,{}):Object(a.jsx)(L.a,{})],t=[this.state.form_validity.cond1?"green":"red",this.state.form_validity.cond2?"green":"red",this.state.form_validity.cond3?"green":"red",this.state.form_validity.cond4?"green":"red",this.state.form_validity.cond5?"green":"red",this.state.form_validity.cond6?"green":"red",this.state.form_validity.cond7?"green":"red"];return Object(a.jsxs)(T.a,{fixed:!0,className:"signup",children:[Object(a.jsx)(p.a,{textAlign:"center",className:"join_text",children:"Join YouBox"}),Object(a.jsx)(p.a,{textAlign:"center",className:"subtitle",children:"download and catalog youtube videos"}),Object(a.jsx)(T.a,{className:"form",fixed:!0,children:Object(a.jsxs)(p.a,{display:"flex",children:[Object(a.jsxs)(T.a,{className:"instructions",children:[Object(a.jsx)(p.a,{className:"create_account",children:"Password Instructions"}),Object(a.jsxs)(I.a,{children:[Object(a.jsxs)(N.a,{style:{color:t[0]},children:[Object(a.jsx)(D.a,{style:{color:t[0]},children:e[0]}),Object(a.jsx)(U.a,{primary:"Should be more than 6 characters"})]}),Object(a.jsxs)(N.a,{style:{color:t[1]},children:[Object(a.jsx)(D.a,{style:{color:t[1]},children:e[1]}),Object(a.jsx)(U.a,{primary:"Should be less than 16 characters"})]}),Object(a.jsxs)(N.a,{style:{color:t[2]},children:[Object(a.jsx)(D.a,{style:{color:t[2]},children:e[2]}),Object(a.jsx)(U.a,{primary:"Should contain atleast one number"})]}),Object(a.jsxs)(N.a,{style:{color:t[3]},children:[Object(a.jsx)(D.a,{style:{color:t[3]},children:e[3]}),Object(a.jsx)(U.a,{primary:"Should contain atleast one special symbol (@, #, $, !)"})]}),Object(a.jsxs)(N.a,{style:{color:t[4]},children:[Object(a.jsx)(D.a,{style:{color:t[4]},children:e[4]}),Object(a.jsx)(U.a,{primary:"Should contain atleast one uppercase letter"})]}),Object(a.jsxs)(N.a,{style:{color:t[5]},children:[Object(a.jsx)(D.a,{style:{color:t[5]},children:e[5]}),Object(a.jsx)(U.a,{primary:"Should contain atleast one lowercase letter"})]}),Object(a.jsxs)(N.a,{style:{color:t[6]},children:[Object(a.jsx)(D.a,{style:{color:t[6]},children:e[6]}),Object(a.jsx)(U.a,{primary:"Both passwords should match"})]})]})]}),Object(a.jsxs)(T.a,{children:[Object(a.jsx)(p.a,{className:"create_account",children:"Create Account"}),Object(a.jsx)(p.a,{children:Object(a.jsx)(v.a,{id:"name_text",label:"Name",variant:"outlined",type:"username",size:"medium",fullWidth:!0,className:"form_input",inputRef:this.nameRef,error:this.state.form_error.field1.error,helperText:this.state.form_error.field1.msg})}),Object(a.jsx)(p.a,{children:Object(a.jsx)(v.a,{id:"email_text",label:"email",variant:"outlined",type:"username",fullWidth:!0,className:"form_input",inputRef:this.emailRef,error:this.state.form_error.field2.error,helperText:this.state.form_error.field2.msg})}),Object(a.jsx)(p.a,{children:Object(a.jsx)(v.a,{id:"password_text",label:"password",variant:"outlined",type:"password",fullWidth:!0,className:"form_input",inputRef:this.passwordRef,onChange:this.passwordValidator,error:this.state.form_error.field3.error,helperText:this.state.form_error.field3.msg})}),Object(a.jsx)(p.a,{children:Object(a.jsx)(v.a,{id:"confirm_password_text",label:"confirm password",variant:"outlined",type:"password",fullWidth:!0,className:"form_input",inputRef:this.confirmPasswordRef,onChange:this.confirmPasswordHandler,error:this.state.form_error.field4.error,helperText:this.state.form_error.field4.msg})}),Object(a.jsxs)(p.a,{display:"flex",alignItems:"center",children:[Object(a.jsx)(y.a,{variant:"contained",color:"primary",className:"form_input",onClick:this.submit,children:"Submit"}),Object(a.jsx)(p.a,{marginTop:"2%",marginLeft:"2%",hidden:!this.state.loading,children:Object(a.jsx)(W.a,{size:"2rem"})})]}),Object(a.jsx)(p.a,{hidden:!this.props.register_status.failure,children:Object(a.jsx)(m.a,{variant:"caption",display:"block",color:"error",gutterBottom:!0,children:this.props.register_status.message})}),Object(a.jsx)(p.a,{hidden:!this.props.register_status.success,children:Object(a.jsx)(m.a,{variant:"caption",display:"block",color:"primary",gutterBottom:!0,children:this.props.register_status.message})})]})]})})]})}}]),r}(n.Component));var G=Object(g.b)((function(e){return{user:e.user,register_status:e.user.register_status}}),(function(e){return{registerUser:function(t){return e({type:S,payload:t})}}}))(z),M=function(e){Object(h.a)(r,e);var t=Object(j.a)(r);function r(){return Object(d.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){return Object(a.jsxs)(p.a,{height:"100%",children:[Object(a.jsx)(A,{}),Object(a.jsx)(T.a,{fixed:!0,children:Object(a.jsx)(G,{})})]})}}]),r}(n.Component),K=r(228),Y=r.n(K),q=(r(276),function(e){Object(h.a)(r,e);var t=Object(j.a)(r);function r(){return Object(d.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){return Object(a.jsxs)(p.a,{display:"flex",alignItems:"center",justifyContent:"space-between",className:"home_header",children:[Object(a.jsx)(p.a,{className:"brand_name",children:"YouBox"}),Object(a.jsxs)(p.a,{display:"flex",alignItems:"center",justifyContent:"space-between",className:"button_group",children:[Object(a.jsxs)(p.a,{className:"welcome_txt",children:["Welcome ",this.props.name]}),Object(a.jsx)(p.a,{children:Object(a.jsx)(y.a,{variant:"contained",color:"primary",startIcon:Object(a.jsx)(Y.a,{}),onClick:this.props.logout,children:"Logout"})})]})]})}}]),r}(n.Component)),J=r(153),Z=r(229),$=r.n(Z),Q=r(120),X=r.n(Q),ee=r(121),te=r.n(ee),re=r(230),ae=r.n(re),ne=r(232),oe=r.n(ne),ie=r(231),se=r.n(ie);r(277);var ce=function(e){var t=e.navigation,r=e.createHandler,o=e.showSearchResults,i=e.searchVideo,s=Object(n.useState)(0),c=Object(J.a)(s,2),l=c[0],d=c[1],u=Object(n.useState)(!1),h=Object(J.a)(u,2),j=h[0],b=h[1],f=Object(n.useRef)(null);return Object(n.useEffect)((function(){d(o?3:l)}),[o]),!o&&f.current&&(f.current.value=""),Object(a.jsxs)(p.a,{className:"home_navigation",children:[Object(a.jsxs)(p.a,{className:"home_nav_button_group",children:[Object(a.jsxs)(p.a,{className:0===l?"tab_active":"tab_inactive",onClick:function(){return O(0)},children:[Object(a.jsx)($.a,{}),Object(a.jsx)(p.a,{marginLeft:"0.5vw",whiteSpace:"noWrap",children:"My Collection"})]}),Object(a.jsxs)(p.a,{className:1===l?"tab_active":"tab_inactive",onClick:function(){return O(1)},children:[Object(a.jsx)(X.a,{}),Object(a.jsx)(p.a,{marginLeft:"0.5vw",children:"Favourites"})]}),Object(a.jsxs)(p.a,{className:2===l?"tab_active":"tab_inactive",onClick:function(){return O(2)},children:[Object(a.jsx)(ae.a,{}),Object(a.jsx)(p.a,{marginLeft:"0.5vw",children:"Recent"})]}),Object(a.jsxs)(p.a,{style:{display:3===l?"flex":"none",alignItems:"center",borderBottom:"1px solid white",fontSize:"larger"},onClick:function(){return O(3)},children:[Object(a.jsx)(se.a,{}),Object(a.jsx)(p.a,{marginLeft:"0.5vw",style:{whiteSpace:"nowrap"},children:"Search Results"})]})]}),Object(a.jsxs)(p.a,{display:"flex",alignItems:"center",color:"white",style:{background:"white",padding:"0.5vh 0.5vw",borderRadius:"5px"},children:[Object(a.jsx)(v.a,{style:{marginRight:"0.5vw",width:"20vw"},placeholder:"video-name",inputRef:f,error:j,helperText:j?"enter atleast a part of video name":"",onKeyPress:function(e){"Enter"===e.key&&(m(),e.preventDefault())},fullWidth:!0}),Object(a.jsx)(y.a,{variant:"outlined",color:"primary",startIcon:Object(a.jsx)(te.a,{}),onClick:function(){return m()},children:"Search"})]}),Object(a.jsxs)(p.a,{className:"add_new_button",onClick:function(){return r(!0)},children:[Object(a.jsx)(oe.a,{}),Object(a.jsx)(p.a,{marginLeft:"0.5vw",children:"Add new video"})]})]});function O(e){d(e),t(e)}function m(){var e=f.current?f.current.value:"";0===e.length?b(!0):(b(!1),i({keyword:e}))}},le=r(459),de=r(460);function ue(e){var t=e.thumbnail_url,r=e.title,n=e.author_name;return Object(a.jsx)(le.a,{className:"video_capsule",children:Object(a.jsxs)(de.a,{children:[Object(a.jsx)("img",{src:t,alt:"youtube"}),Object(a.jsx)(m.a,{variant:"h6",children:r}),Object(a.jsxs)(m.a,{variant:"subtitle2",children:["Uploaded by ",n]})]})})}var he=r(233),je=r.n(he),pe=r(414),be=r(447),fe=r(448),ve=r(472),ye=r(461),Oe=r(469);r(278);function me(e){var t=e.categories,r=e.saveCategories,n=e.selectCategory,i=o.a.useRef();return Object(a.jsx)(pe.a,{elevation:2,className:"category_explorer",children:Object(a.jsxs)(p.a,{children:[Object(a.jsxs)(p.a,{className:"add_new_pane",children:[Object(a.jsx)(v.a,{label:"Add new category",variant:"outlined",size:"small",inputRef:i}),Object(a.jsx)(y.a,{color:"primary",variant:"outlined",startIcon:Object(a.jsx)(je.a,{}),className:"add_category_btn",onClick:function(){return r(i.current&&i.current.value.length>0?i.current.value:"")},children:"Add"})]}),Object(a.jsx)(p.a,{className:"category_group",children:Object(a.jsxs)(be.a,{component:"fieldset",children:[Object(a.jsx)(fe.a,{component:"legend",children:"Category List"}),Object(a.jsx)(ve.a,{onChange:n,children:t.map((function(e,t){return Object(a.jsx)(ye.a,{value:e.category,control:Object(a.jsx)(Oe.a,{}),label:e.category},t)}))}),Object(a.jsx)(p.a,{hidden:t.length>0,children:Object(a.jsx)(m.a,{variant:"caption",children:"No saved categories, add new categories"})})]})})]})})}var ge=r(471),xe=r(463),_e=r(464),we=r(465),Ee=r(473),ke=r(462),Re=r(236),Se=r.n(Re),Ce=r(237),Pe=r.n(Ce),Ve=r(238),Ae=r.n(Ve),Te=r(235),Ie=r.n(Te),Ne=r(239),De=r.n(Ne);function Ue(e){var t=e.title,r=e.url,n=e.thumbnail_url,o=e.favourite,i=e.id,s=e.conversion_status,c=e.onPlay,l=e.likeVideo,d=e.downloadAudio,u=e.downloadVideo,h=e.category,j=e.index,b=e.marginRight,f=e.deleteVideo,v=e.hideFav,y=e.hideDelete;return Object(a.jsx)(Ee.a,{title:t,style:{marginRight:b},children:Object(a.jsxs)(pe.a,{elevation:1,className:"collection_paper",children:[Object(a.jsx)("img",{src:n,alt:"thumpnail"}),Object(a.jsx)(p.a,{className:"video_title",children:t}),Object(a.jsxs)(p.a,{className:"video_button_group",display:"flex",alignItems:"center",children:[Object(a.jsx)(ke.a,{onClick:function(){return c(r,t)},children:Object(a.jsx)(Ie.a,{})}),Object(a.jsx)(p.a,{hidden:v,children:Object(a.jsx)(ke.a,{onClick:function(){return l({id:i,category:h,status:!o})},children:o?Object(a.jsx)(X.a,{style:{fill:"#d63031"}}):Object(a.jsx)(Se.a,{})})}),Object(a.jsx)(ke.a,{onClick:function(){return u(r,t,i)},children:Object(a.jsx)(Pe.a,{})}),Object(a.jsx)(ke.a,{onClick:function(){return d(r,t,i)},disabled:s.id===i,children:s.id===i?Object(a.jsx)(W.a,{size:"1.5rem"}):Object(a.jsx)(Ae.a,{})}),Object(a.jsx)(p.a,{hidden:y,children:Object(a.jsx)(ke.a,{onClick:function(){return f({id:i,category:h})},children:Object(a.jsx)(De.a,{})})})]})]},j)},j)}r(279);function Fe(e){var t=e.collections,r=e.onPlay,n=e.downloadVideo,o=e.downloadAudio,i=e.conversion_status,s=e.likeVideo,c=e.deleteVideo;return Object(a.jsx)(p.a,{className:"collection_grid",children:t.map((function(e,t){return Object(a.jsx)(Ue,{index:t,title:e.title,url:e.url,thumbnail_url:e.thumbnail_url,favourite:e.favourite,id:e.id,conversion_status:i,onPlay:r,likeVideo:s,downloadAudio:o,downloadVideo:n,deleteVideo:c,category:e.category},t)}))})}var Le=r(71),Be=r.n(Le),He="FETCH_CATEGORIES",We="SAVE_CATEGORIES",ze="SAVE_VIDEO",Ge="FETCH_VIDEO",Me="LIKE_VIDEO",Ke="FETCH_FAVOURITES",Ye="DELETE_VIDEO",qe="FETCH_RECENTS",Je="SEARCH_VIDEOS",Ze="SET_CATEGORIES",$e="ADD_VIDEOS",Qe="SET_VIDEOS",Xe="SET_COLLECTION_LOADING",et="SET_FAVOURITE",tt="DUMP_FAVOURITES",rt="REMOVE_VIDEO",at="SET_RECENTS",nt="SET_SEARCH_RESULTS";function ot(e){return{type:Me,payload:e}}function it(e){return{type:Ye,payload:e}}var st=function(e){Object(h.a)(r,e);var t=Object(j.a)(r);function r(e){var a;return Object(d.a)(this,r),(a=t.call(this,e)).state={videoPlayerOpen:!1,videoPlayerUrl:"",videoTitle:"",conversion_status:{id:"",msg:""}},a.closeVideoPlayer=a.closeVideoPlayer.bind(Object(b.a)(a)),a.openVideoPlayer=a.openVideoPlayer.bind(Object(b.a)(a)),a.downloadVideo=a.downloadVideo.bind(Object(b.a)(a)),a.downloadAudio=a.downloadAudio.bind(Object(b.a)(a)),a.convertAudio=a.convertAudio.bind(Object(b.a)(a)),a}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchVideos()}},{key:"openVideoPlayer",value:function(e,t){this.setState({videoPlayerOpen:!0,videoPlayerUrl:e,videoTitle:t})}},{key:"closeVideoPlayer",value:function(){this.setState({videoPlayerOpen:!1,videoPlayerUrl:"",videoTitle:""})}},{key:"downloadVideo",value:function(e,t){var r="".concat("","/download_video?url=").concat(e,"&title=").concat(t),a=document.createElement("a");a.href=r,document.body.appendChild(a),a.click(),document.body.removeChild(a)}},{key:"convertAudio",value:function(e,t,r){var a=this,n="".concat("","/convert_audio?url=").concat(e,"&title=").concat(t);this.setState({conversion_status:{id:r,msg:"converting..."}}),fetch(n).then((function(r){r.ok&&a.downloadAudio(e,t),a.setState({conversion_status:{id:"",msg:""}})}))}},{key:"downloadAudio",value:function(e,t,r){var a="".concat("","/download_audio?url=").concat(e,"&title=").concat(t),n=document.createElement("a");n.href=a,document.body.appendChild(n),n.click(),document.body.removeChild(n)}},{key:"render",value:function(){var e=this,t=Object.keys(this.props.my_collections);return t.sort(),this.props.collection_loading?Object(a.jsx)(p.a,{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"70vh",children:Object(a.jsx)(W.a,{})}):0===t.length?Object(a.jsx)(p.a,{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"70vh",children:Object(a.jsx)(m.a,{variant:"h5",children:"No videos in your collection, please add videos"})}):Object(a.jsxs)(p.a,{padding:"0.5vh 1vw",className:"my_collection",children:[t.map((function(t,r){return Object(a.jsxs)(p.a,{className:"collection_parent_grid",children:[Object(a.jsxs)(p.a,{display:"flex",alignItems:"center",children:[Object(a.jsx)(m.a,{variant:"h6",children:t}),Object(a.jsx)(p.a,{className:"counter_display",children:e.props.my_collections[t].length})]}),Object(a.jsx)(Fe,{collections:e.props.my_collections[t],onPlay:e.openVideoPlayer,downloadVideo:e.downloadVideo,downloadAudio:e.convertAudio,likeVideo:e.props.likeVideo,conversion_status:e.state.conversion_status,deleteVideo:e.props.deleteVideo})]},r)})),Object(a.jsxs)(ge.a,{open:this.state.videoPlayerOpen,fullWidth:!0,fullScreen:!0,children:[Object(a.jsx)(xe.a,{children:this.state.videoTitle}),Object(a.jsx)(_e.a,{children:Object(a.jsx)(Be.a,{url:this.state.videoPlayerUrl,controls:!0,playing:!0,width:"98vw",height:"86vh"})}),Object(a.jsx)(we.a,{children:Object(a.jsx)(y.a,{onClick:this.closeVideoPlayer,color:"primary",children:"Close"})})]})]})}}]),r}(n.Component);var ct=Object(g.b)((function(e){return{my_collections:e.collection.my_collections,collection_loading:e.collection.collection_loading}}),(function(e){return{fetchVideos:function(){return e({type:Ge})},likeVideo:function(t){return e(ot(t))},deleteVideo:function(t){return e(it(t))}}}))(st),lt=function(e){Object(h.a)(r,e);var t=Object(j.a)(r);function r(e){var a;return Object(d.a)(this,r),(a=t.call(this,e)).state={videoPlayerOpen:!1,videoPlayerUrl:"",videoTitle:"",conversion_status:{id:"",msg:""}},a.closeVideoPlayer=a.closeVideoPlayer.bind(Object(b.a)(a)),a.openVideoPlayer=a.openVideoPlayer.bind(Object(b.a)(a)),a.downloadVideo=a.downloadVideo.bind(Object(b.a)(a)),a.downloadAudio=a.downloadAudio.bind(Object(b.a)(a)),a.convertAudio=a.convertAudio.bind(Object(b.a)(a)),a}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchFavourites()}},{key:"openVideoPlayer",value:function(e,t){this.setState({videoPlayerOpen:!0,videoPlayerUrl:e,videoTitle:t})}},{key:"closeVideoPlayer",value:function(){this.setState({videoPlayerOpen:!1,videoPlayerUrl:"",videoTitle:""})}},{key:"downloadVideo",value:function(e,t){var r="".concat("","/download_video?url=").concat(e,"&title=").concat(t),a=document.createElement("a");a.href=r,document.body.appendChild(a),a.click(),document.body.removeChild(a)}},{key:"convertAudio",value:function(e,t,r){var a=this,n="".concat("","/convert_audio?url=").concat(e,"&title=").concat(t);this.setState({conversion_status:{id:r,msg:"converting..."}}),fetch(n).then((function(r){r.ok&&a.downloadAudio(e,t),a.setState({conversion_status:{id:"",msg:""}})}))}},{key:"downloadAudio",value:function(e,t,r){var a="".concat("","/download_audio?url=").concat(e,"&title=").concat(t),n=document.createElement("a");n.href=a,document.body.appendChild(n),n.click(),document.body.removeChild(n)}},{key:"render",value:function(){var e=this;return this.props.collection_loading?Object(a.jsx)(p.a,{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"70vh",children:Object(a.jsx)(W.a,{})}):0===this.props.favourites.length?Object(a.jsx)(p.a,{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"70vh",children:Object(a.jsx)(m.a,{variant:"h5",children:"No favourites, please add favourites from your collection"})}):Object(a.jsxs)(p.a,{padding:"1vh 1vw",className:"my_collection",children:[Object(a.jsx)(f.a,{container:!0,spacing:1,children:this.props.favourites.map((function(t,r){return Object(a.jsx)(f.a,{item:!0,spacing:1,children:Object(a.jsx)(Ue,{index:r,title:t.title,url:t.url,thumbnail_url:t.thumbnail_url,favourite:t.favourite,id:t.id,conversion_status:e.state.conversion_status,onPlay:e.openVideoPlayer,downloadVideo:e.downloadVideo,downloadAudio:e.convertAudio,likeVideo:e.props.likeVideo,category:t.category,deleteVideo:e.props.deleteVideo,marginRight:"0.5vw"})},r)}))}),Object(a.jsxs)(ge.a,{open:this.state.videoPlayerOpen,fullWidth:!0,fullScreen:!0,children:[Object(a.jsx)(xe.a,{children:this.state.videoTitle}),Object(a.jsx)(_e.a,{children:Object(a.jsx)(Be.a,{url:this.state.videoPlayerUrl,controls:!0,playing:!0,width:"98vw",height:"86vh"})}),Object(a.jsx)(we.a,{children:Object(a.jsx)(y.a,{onClick:this.closeVideoPlayer,color:"primary",children:"Close"})})]})]})}}]),r}(n.Component);var dt=Object(g.b)((function(e){return{favourites:e.collection.favourites,collection_loading:e.collection.collection_loading}}),(function(e){return{fetchFavourites:function(){return e({type:Ke})},likeVideo:function(t){return e(ot(t))},deleteVideo:function(t){return e(it(t))}}}))(lt),ut=function(e){Object(h.a)(r,e);var t=Object(j.a)(r);function r(e){var a;return Object(d.a)(this,r),(a=t.call(this,e)).state={videoPlayerOpen:!1,videoPlayerUrl:"",videoTitle:"",conversion_status:{id:"",msg:""}},a.closeVideoPlayer=a.closeVideoPlayer.bind(Object(b.a)(a)),a.openVideoPlayer=a.openVideoPlayer.bind(Object(b.a)(a)),a.downloadVideo=a.downloadVideo.bind(Object(b.a)(a)),a.downloadAudio=a.downloadAudio.bind(Object(b.a)(a)),a.convertAudio=a.convertAudio.bind(Object(b.a)(a)),a}return Object(u.a)(r,[{key:"componentDidMount",value:function(){this.props.fetchRecents()}},{key:"openVideoPlayer",value:function(e,t){this.setState({videoPlayerOpen:!0,videoPlayerUrl:e,videoTitle:t})}},{key:"closeVideoPlayer",value:function(){this.setState({videoPlayerOpen:!1,videoPlayerUrl:"",videoTitle:""})}},{key:"downloadVideo",value:function(e,t){var r="".concat("","/download_video?url=").concat(e,"&title=").concat(t),a=document.createElement("a");a.href=r,document.body.appendChild(a),a.click(),document.body.removeChild(a)}},{key:"convertAudio",value:function(e,t,r){var a=this,n="".concat("","/convert_audio?url=").concat(e,"&title=").concat(t);this.setState({conversion_status:{id:r,msg:"converting..."}}),fetch(n).then((function(r){r.ok&&a.downloadAudio(e,t),a.setState({conversion_status:{id:"",msg:""}})}))}},{key:"downloadAudio",value:function(e,t,r){var a="".concat("","/download_audio?url=").concat(e,"&title=").concat(t),n=document.createElement("a");n.href=a,document.body.appendChild(n),n.click(),document.body.removeChild(n)}},{key:"render",value:function(){var e=this,t=Object.keys(this.props.recents);return this.props.collection_loading?Object(a.jsx)(p.a,{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"70vh",children:Object(a.jsx)(W.a,{})}):0===t.length?Object(a.jsx)(p.a,{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"70vh",children:Object(a.jsx)(m.a,{variant:"h5",children:"No recently added vidoes"})}):Object(a.jsxs)(p.a,{padding:"1vh 1vw",className:"my_collection",children:[t.map((function(t,r){return Object(a.jsxs)(p.a,{children:[Object(a.jsxs)(p.a,{display:"flex",alignItems:"center",children:[Object(a.jsx)(p.a,{style:{fontSize:"1.5rem",marginBottom:"1vh",fontWeight:"bold"},children:t}),Object(a.jsx)(p.a,{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0.3vh 0.5vw",color:"white",background:"#192A56",marginLeft:"0.5vw",marginBottom:"0.5vh",borderRadius:"10px"},children:e.props.recents[t].length})]}),Object(a.jsx)(f.a,{container:!0,spacing:1,children:e.props.recents[t].map((function(t,r){return Object(a.jsx)(f.a,{item:!0,spacing:1,children:Object(a.jsx)(Ue,{index:r,title:t.title,url:t.url,thumbnail_url:t.thumbnail_url,favourite:t.favourite,id:t.id,conversion_status:e.state.conversion_status,onPlay:e.openVideoPlayer,downloadVideo:e.downloadVideo,downloadAudio:e.convertAudio,likeVideo:e.props.likeVideo,category:t.category,deleteVideo:e.props.deleteVideo,marginRight:"0.5vw",hideFav:!0,hideDelete:!0})},r)}))})]},r)})),Object(a.jsxs)(ge.a,{open:this.state.videoPlayerOpen,fullWidth:!0,fullScreen:!0,children:[Object(a.jsx)(xe.a,{children:this.state.videoTitle}),Object(a.jsx)(_e.a,{children:Object(a.jsx)(Be.a,{url:this.state.videoPlayerUrl,controls:!0,playing:!0,width:"98vw",height:"86vh"})}),Object(a.jsx)(we.a,{children:Object(a.jsx)(y.a,{onClick:this.closeVideoPlayer,color:"primary",children:"Close"})})]})]})}}]),r}(n.Component);var ht=Object(g.b)((function(e){return{recents:e.collection.recents,collection_loading:e.collection.collection_loading}}),(function(e){return{fetchRecents:function(){return e({type:qe})},likeVideo:function(t){return e(ot(t))},deleteVideo:function(t){return e(it(t))}}}))(ut),jt=function(e){Object(h.a)(r,e);var t=Object(j.a)(r);function r(e){var a;return Object(d.a)(this,r),(a=t.call(this,e)).state={videoPlayerOpen:!1,videoPlayerUrl:"",videoTitle:"",conversion_status:{id:"",msg:""}},a.closeVideoPlayer=a.closeVideoPlayer.bind(Object(b.a)(a)),a.openVideoPlayer=a.openVideoPlayer.bind(Object(b.a)(a)),a.downloadVideo=a.downloadVideo.bind(Object(b.a)(a)),a.downloadAudio=a.downloadAudio.bind(Object(b.a)(a)),a.convertAudio=a.convertAudio.bind(Object(b.a)(a)),a}return Object(u.a)(r,[{key:"openVideoPlayer",value:function(e,t){this.setState({videoPlayerOpen:!0,videoPlayerUrl:e,videoTitle:t})}},{key:"closeVideoPlayer",value:function(){this.setState({videoPlayerOpen:!1,videoPlayerUrl:"",videoTitle:""})}},{key:"downloadVideo",value:function(e,t){var r="".concat("","/download_video?url=").concat(e,"&title=").concat(t),a=document.createElement("a");a.href=r,document.body.appendChild(a),a.click(),document.body.removeChild(a)}},{key:"convertAudio",value:function(e,t,r){var a=this,n="".concat("","/convert_audio?url=").concat(e,"&title=").concat(t);this.setState({conversion_status:{id:r,msg:"converting..."}}),fetch(n).then((function(r){r.ok&&a.downloadAudio(e,t),a.setState({conversion_status:{id:"",msg:""}})}))}},{key:"downloadAudio",value:function(e,t,r){var a="".concat("","/download_audio?url=").concat(e,"&title=").concat(t),n=document.createElement("a");n.href=a,document.body.appendChild(n),n.click(),document.body.removeChild(n)}},{key:"render",value:function(){var e=this;return this.props.collection_loading?Object(a.jsx)(p.a,{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"70vh",children:Object(a.jsx)(W.a,{})}):0===this.props.searchResults.length?Object(a.jsx)(p.a,{display:"flex",justifyContent:"center",alignItems:"center",width:"100vw",height:"70vh",children:Object(a.jsx)(m.a,{variant:"h5",children:"No videos found..."})}):Object(a.jsxs)(p.a,{padding:"1vh 1vw",className:"my_collection",children:[Object(a.jsx)(p.a,{style:{fontSize:"1.5rem",marginBottom:"1vh",fontWeight:"bold"},children:"Search Results"}),Object(a.jsxs)(p.a,{style:{fontSize:"0.7rem",marginBottom:"1vh",fontWeight:"bolder",fontStyle:"italic",color:"#192a56"},children:["Found: ",this.props.searchResults.length]}),Object(a.jsx)(f.a,{container:!0,spacing:1,children:this.props.searchResults.map((function(t,r){return Object(a.jsx)(f.a,{item:!0,spacing:1,children:Object(a.jsx)(Ue,{index:r,title:t.title,url:t.url,thumbnail_url:t.thumbnail_url,favourite:t.favourite,id:t.id,conversion_status:e.state.conversion_status,onPlay:e.openVideoPlayer,downloadVideo:e.downloadVideo,downloadAudio:e.convertAudio,likeVideo:e.props.likeVideo,category:t.category,deleteVideo:e.props.deleteVideo,marginRight:"0.5vw",hideFav:!0,hideDelete:!0})},r)}))}),Object(a.jsxs)(ge.a,{open:this.state.videoPlayerOpen,fullWidth:!0,fullScreen:!0,children:[Object(a.jsx)(xe.a,{children:this.state.videoTitle}),Object(a.jsx)(_e.a,{children:Object(a.jsx)(Be.a,{url:this.state.videoPlayerUrl,controls:!0,playing:!0,width:"98vw",height:"86vh"})}),Object(a.jsx)(we.a,{children:Object(a.jsx)(y.a,{onClick:this.closeVideoPlayer,color:"primary",children:"Close"})})]})]})}}]),r}(n.Component);var pt=Object(g.b)((function(e){return{searchResults:e.collection.searchResults,collection_loading:e.collection.collection_loading}}),(function(e){return{likeVideo:function(t){return e(ot(t))},deleteVideo:function(t){return e(it(t))}}}))(jt),bt="SEARCH_VIDEO",ft="SET_LOADING",vt="SEARCH_RESULT",yt="UNSET_SEARCH_RESULT",Ot="SET_SEARCH_ERROR";var mt=function(e){Object(h.a)(r,e);var t=Object(j.a)(r);function r(e){var a;return Object(d.a)(this,r),(a=t.call(this,e)).state={nav_tab:0,dialogOpen:!1,selected_category:""},a.searchVideoText=Object(n.createRef)(),a.setNavTab=a.setNavTab.bind(Object(b.a)(a)),a.tabRenderer=a.tabRenderer.bind(Object(b.a)(a)),a.openDialog=a.openDialog.bind(Object(b.a)(a)),a.selectCategory=a.selectCategory.bind(Object(b.a)(a)),a}return Object(u.a)(r,[{key:"componentDidMount",value:function(){0===this.props.user.userId.length&&this.props.history.push("/"),this.props.fetchCategories()}},{key:"componentDidUpdate",value:function(e){e.user!==this.props.user&&0===this.props.user.userId.length&&this.props.history.push("/"),e.my_collections!==this.props.my_collections&&this.setState({dialogOpen:!1})}},{key:"selectCategory",value:function(e){this.setState({selected_category:e.target.value})}},{key:"openDialog",value:function(e){this.setState({dialogOpen:e}),!0===e&&this.props.setSearchError({error_status:!1,error_msg:""})}},{key:"setNavTab",value:function(e){this.props.setSearchResults({searchStatus:!1,searchResults:[]}),this.setState({nav_tab:e})}},{key:"tabRenderer",value:function(){return this.props.searchStatus?Object(a.jsx)(pt,{}):0===this.state.nav_tab?Object(a.jsx)(ct,{}):1===this.state.nav_tab?Object(a.jsx)(dt,{}):2===this.state.nav_tab?Object(a.jsx)(ht,{}):void 0}},{key:"render",value:function(){var e=this,t=null===this.searchVideoText.current||this.searchVideoText.current&&0===this.searchVideoText.current.value.length||0===this.state.selected_category.length;return Object(a.jsxs)(p.a,{children:[Object(a.jsx)(q,{name:this.props.user.name,logout:this.props.unSetUser}),Object(a.jsx)(ce,{navigation:this.setNavTab,createHandler:this.openDialog,showSearchResults:this.props.searchStatus,searchVideo:this.props.searchVideos}),Object(a.jsx)(p.a,{children:this.tabRenderer()}),Object(a.jsxs)(ge.a,{open:this.state.dialogOpen,onClose:function(){return e.openDialog(!1)},children:[Object(a.jsx)(xe.a,{children:Object(a.jsxs)(p.a,{display:"flex",alignItems:"center",children:[Object(a.jsx)(p.a,{fontWeight:"bold",fontSize:"x-large",children:"Add video to your collection"}),Object(a.jsx)(p.a,{hidden:!this.props.search_loading,marginLeft:"0.5vw",children:Object(a.jsx)(W.a,{size:"1.5rem"})})]})}),Object(a.jsxs)(_e.a,{children:[Object(a.jsxs)(p.a,{display:"flex",alignItems:"center",children:[Object(a.jsx)(v.a,{label:"youtube-url",variant:"outlined",size:"small",fullWidth:!0,style:{width:"30vw"},inputRef:this.searchVideoText}),Object(a.jsx)(ke.a,{style:{marginLeft:"0.5vw"},color:"primary","aria-label":"search video",onClick:function(){return e.props.searchVideo({url:e.searchVideoText.current?e.searchVideoText.current.value:void 0})},children:Object(a.jsx)(te.a,{})})]}),Object(a.jsx)(p.a,{display:"flex",alignItems:"center",hidden:!this.props.search_error.error,children:Object(a.jsx)(m.a,{variant:"caption",color:"error",children:this.props.search_error.msg})}),Object(a.jsxs)(p.a,{hidden:!this.props.search_status,children:[Object(a.jsxs)(p.a,{children:[Object(a.jsx)(m.a,{variant:"subtitle1",fontWeight:"bold",fontSize:"large",children:"Search Result"}),Object(a.jsx)(ue,{title:this.props.search_result.title,thumbnail_url:this.props.search_result.thumbnail_url,author_name:this.props.search_result.author_name})]}),Object(a.jsx)(p.a,{marginTop:"1vh",children:Object(a.jsx)(me,{categories:this.props.categories,saveCategories:this.props.saveCategories,selectCategory:this.selectCategory})})]})]}),Object(a.jsxs)(we.a,{children:[Object(a.jsx)(y.a,{color:"secondary",onClick:function(){return e.openDialog(!1)},children:"Cancel"}),Object(a.jsx)(y.a,{color:"primary",variant:"contained",onClick:function(){return e.props.saveVideo({search_result:e.props.search_result,category:e.state.selected_category})},disabled:t,children:"Add"})]})]})]})}}]),r}(n.Component);var gt=Object(l.f)(Object(g.b)((function(e){return{user:e.user,login_status:e.user.login_status,search_loading:e.search.loading,search_result:e.search.search_result,search_status:e.search.search_status,search_error:e.search.search_error,categories:e.collection.categories,my_collections:e.collection.my_collections,searchStatus:e.collection.searchStatus}}),(function(e){return{unSetUser:function(){return e({type:_})},searchVideo:function(t){return e(function(e){return{type:bt,payload:e}}(t))},setSearchError:function(t){return e(function(e){return{type:Ot,payload:e}}(t))},fetchCategories:function(t){return e(function(e){return{type:He,payload:e}}(t))},saveCategories:function(t){return e(function(e){return{type:We,payload:e}}(t))},saveVideo:function(t){return e(function(e){return{type:ze,payload:e}}(t))},searchVideos:function(t){return e(function(e){return{type:Je,payload:e}}(t))},setSearchResults:function(t){return e(function(e){return{type:nt,payload:e}}(t))}}}))(mt));var xt=function(){return Object(a.jsx)(c.a,{children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{exact:!0,path:"/home",children:Object(a.jsx)(gt,{})}),Object(a.jsx)(l.a,{exact:!0,path:"/",children:Object(a.jsx)(M,{})})]})})},_t=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,475)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,o=t.getLCP,i=t.getTTFB;r(e),a(e),n(e),o(e),i(e)}))},wt=r(53),Et=r(152),kt=r(247),Rt={userId:"",name:"",register_status:{success:!1,failure:!1,message:""},login_status:{success:!1,failure:!1,message:""}};var St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0;return t.type===x?Object.assign({},e,{userId:t.payload.userId,name:t.payload.name}):t.type===_?Object.assign({},e,{userId:"",name:""}):t.type===w?Object.assign({},e,{register_status:{success:!0,failure:!1,message:t.payload.message}}):t.type===E?Object.assign({},e,{register_status:{success:!1,failure:!0,message:t.payload.message}}):t.type===k?Object.assign({},e,{login_status:{success:!0,failure:!1,message:t.payload.message}}):t.type===R?Object.assign({},e,{login_status:{success:!1,failure:!0,message:t.payload.message}}):e},Ct={loading:!1,search_result:{title:"",author_name:"",thumbnail_url:"",url:""},search_status:!1,search_error:{error:!1,msg:""}};var Pt=r(240),Vt=r(64),At=r(96),Tt={categories:[],my_collections:{},collection_loading:!1,favourites:[],recents:{},searchStatus:!1,searchResults:[]};var It=r(88),Nt=r(17),Dt=r.n(Nt),Ut=r(151),Ft=r.n(Ut),Lt=r(9),Bt=r(246),Ht=(r(215),r(241)),Wt=r.n(Ht),zt=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyALrw8bI9OOXCbTN7KZ3pQHOnTY7IVAiMo",REACT_APP_FIREBASE_AUTH_DOMAIN:"youbox-d957e.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"youbox-d957e",REACT_APP_FIREBASE_STORAGE_BUCKET:"youbox-d957e.appspot.com",REACT_APP_FIREBASE_MESSAGING_ID:"633570329777",REACT_APP_FIREBASE_APP_ID:"1:633570329777:web:c3a125b7d34482b9a34e90"}),Gt={apiKey:zt.REACT_APP_FIREBASE_API_KEY,authDomain:zt.REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:zt.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:zt.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:zt.REACT_APP_FIREBASE_MESSAGING_ID,appId:zt.REACT_APP_FIREBASE_APP_ID},Mt=Bt.a.initializeApp(Gt),Kt=new Wt.a(Mt),Yt=Dt.a.mark($t),qt=Dt.a.mark(Qt),Jt=Dt.a.mark(Xt),Zt=Dt.a.mark(er);function $t(e){var t,r,a,n,o;return Dt.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,r=t.email,a=t.password,n=Ft()(a),i.prev=4,i.next=7,Object(Lt.call)(Kt.auth.createUserWithEmailAndPassword,r,n.toString());case 7:return o=i.sent,i.next=10,Object(Lt.call)(Kt.firestore.addDocument,"users",{uid:o.user.uid,created_at:new Date,name:t.name});case 10:return i.next=12,Object(Lt.call)(Kt.auth.sendEmailVerification);case 12:return i.next=14,Object(Lt.put)({type:x,payload:{userId:o.user.uid,name:t.name}});case 14:return i.next=16,Object(Lt.put)({type:w,payload:{message:"Account created successful. Verification email is send, please follow it."}});case 16:i.next=22;break;case 18:return i.prev=18,i.t0=i.catch(4),i.next=22,Object(Lt.put)({type:E,payload:{message:i.t0.message}});case 22:case"end":return i.stop()}}),Yt,null,[[4,18]])}function Qt(e){var t,r,a,n,o,i,s,c;return Dt.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,r=t.email,a=t.password,n=Ft()(a),l.prev=4,l.next=7,Object(Lt.call)(Kt.auth.signInWithEmailAndPassword,r,n.toString());case 7:if((o=l.sent).user.emailVerified){l.next=13;break}return l.next=11,Object(Lt.put)({type:R,payload:{message:"verify your email to proceed."}});case 11:l.next=28;break;case 13:return i=o.user.uid,l.next=16,Object(Lt.call)(Kt.firestore.getCollection,"users");case 16:if(s=l.sent,c=void 0,s.forEach((function(e){var t=e.data();t.uid===i&&(c=t)})),!c){l.next=26;break}return l.next=22,Object(Lt.put)({type:x,payload:{userId:c.uid,name:c.name}});case 22:return l.next=24,Object(Lt.put)({type:k,payload:{message:"logged in"}});case 24:l.next=28;break;case 26:return l.next=28,Object(Lt.put)({type:R,payload:{message:"user account not found."}});case 28:l.next=34;break;case 30:return l.prev=30,l.t0=l.catch(4),l.next=34,Object(Lt.put)({type:R,payload:{message:l.t0.message}});case 34:case"end":return l.stop()}}),qt,null,[[4,30]])}function Xt(e){var t,r;return Dt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,r=t.email,a.next=4,Object(Lt.call)(Kt.auth.sendPasswordResetEmail,r);case 4:case"end":return a.stop()}}),Jt)}function er(){return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Lt.takeEvery)(S,$t);case 2:return e.next=4,Object(Lt.takeEvery)(C,Qt);case 4:return e.next=6,Object(Lt.takeEvery)(P,Xt);case 6:case"end":return e.stop()}}),Zt)}var tr=r(242),rr=r.n(tr),ar=Dt.a.mark(or),nr=Dt.a.mark(ir);function or(e){var t,r,a,n,o,i;return Dt.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,r=t.url,a="https://www.youtube.com/oembed?url=".concat(r),s.next=5,Object(Lt.put)({type:ft,payload:{loading:!0}});case 5:if(void 0!==r&&0!==r.length){s.next=10;break}return s.next=8,Object(Lt.put)({type:Ot,payload:{error_status:!0,error_msg:"url is required to search"}});case 8:s.next=24;break;case 10:return s.next=12,Object(Lt.call)(rr.a.get,a);case 12:if(n=s.sent,"Not Found"!==(o=n.data)){s.next=19;break}return s.next=17,Object(Lt.put)({type:Ot,payload:{error_status:!0,error_msg:"video is not found, provide the entire url"}});case 17:s.next=24;break;case 19:return i={title:o.title,author_name:o.author_name,thumbnail_url:o.thumbnail_url,url:r},s.next=22,Object(Lt.put)({type:vt,payload:{search_result:i}});case 22:return s.next=24,Object(Lt.put)({type:ft,payload:{loading:!1}});case 24:case"end":return s.stop()}}),ar)}function ir(){return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Lt.takeEvery)(bt,or);case 2:case"end":return e.stop()}}),nr)}var sr=r(243),cr=r.n(sr),lr=r(244),dr=r.n(lr),ur=Dt.a.mark(_r),hr=Dt.a.mark(wr),jr=Dt.a.mark(Er),pr=Dt.a.mark(kr),br=Dt.a.mark(Rr),fr=Dt.a.mark(Sr),vr=Dt.a.mark(Cr),yr=Dt.a.mark(Pr),Or=Dt.a.mark(Vr),mr=Dt.a.mark(Ar),gr=function(e){return e.user.userId},xr=function(e){return e.collection.categories};function _r(){var e,t,r;return Dt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Lt.call)(Kt.firestore.getCollection,"categories");case 2:return e=a.sent,a.next=5,Object(Lt.select)(gr);case 5:return t=a.sent,r=[],e.forEach((function(e){var a=e.data();a.uid===t&&r.push(a)})),r=r.sort((function(e,t){return e.category<t.category?-1:1})),a.next=11,Object(Lt.put)({type:Ze,payload:{categories:r}});case 11:case"end":return a.stop()}}),ur)}function wr(e){var t,r,a,n,o;return Dt.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,i.next=3,Object(Lt.call)(cr.a.words,t);case 3:return r=i.sent,i.next=6,Object(Lt.select)(gr);case 6:return a=i.sent,i.next=9,Object(Lt.select)(xr);case 9:if(n=i.sent,o=n.filter((function(e){return e===r})),!(r&&r.length>0&&0===o.length)){i.next=20;break}return i.next=14,Object(Lt.call)(Kt.firestore.addDocument,"categories",{category:r,uid:a});case 14:if(!i.sent){i.next=20;break}return n.push({category:r}),n=n.sort((function(e,t){return e.category<t.category?-1:1})),i.next=20,Object(Lt.put)({type:Ze,payload:{categories:n}});case 20:case"end":return i.stop()}}),hr)}function Er(e){var t,r,a,n,o,i;return Dt.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,s.next=3,Object(Lt.select)(gr);case 3:if(r=s.sent,a=t.search_result,n=t.category,o=Object(Vt.a)(Object(Vt.a)({},a),{},{category:n,uid:r,created_at:new Date,favourite:!1}),!(r.length>0&&n.length>0&&a.url.length>0)){s.next=14;break}return s.next=10,Object(Lt.call)(Kt.firestore.addDocument,"collections",o);case 10:return i=s.sent,o.id=i.id,s.next=14,Object(Lt.put)({type:$e,payload:{video_details:o}});case 14:case"end":return s.stop()}}),jr)}function kr(){var e,t,r;return Dt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Lt.put)({type:Xe,payload:!0});case 2:return a.next=4,Object(Lt.select)(gr);case 4:return e=a.sent,a.next=7,Object(Lt.call)(Kt.firestore.getCollection,"collections");case 7:return t=a.sent,r={},t.forEach((function(t){var a=t.data();if(a.uid===e){var n=a.category;void 0===r[n]&&(r[n]=[]),a.id=t.id,r[n].push(a)}})),a.next=12,Object(Lt.put)({type:Qe,payload:{collections:r}});case 12:return a.next=14,Object(Lt.put)({type:Xe,payload:!1});case 14:case"end":return a.stop()}}),pr)}function Rr(e){var t,r,a,n;return Dt.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,r=t.id,a=t.category,n=t.status,o.next=6,Object(Lt.call)(Kt.firestore.updateDocument,"collections/".concat(r),"favourite",n);case 6:return o.next=8,Object(Lt.put)({type:et,payload:{category:a,id:r}});case 8:case"end":return o.stop()}}),br)}function Sr(e){var t,r,a;return Dt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.payload,n.next=3,Object(Lt.put)({type:Xe,payload:!0});case 3:return n.next=5,Object(Lt.select)(gr);case 5:return t=n.sent,n.next=8,Object(Lt.call)(Kt.firestore.getCollection,"collections");case 8:return r=n.sent,a=[],r.forEach((function(e){var r=e.data();r.uid===t&&r.favourite&&(r.id=e.id,a.push(r))})),n.next=13,Object(Lt.put)({type:tt,payload:{favourites:a}});case 13:return n.next=15,Object(Lt.put)({type:Xe,payload:!1});case 15:case"end":return n.stop()}}),fr)}function Cr(e){var t,r,a;return Dt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,r=t.category,a=t.id,n.next=5,Object(Lt.call)(Kt.firestore.deleteDocument,"collections/".concat(a));case 5:return n.next=7,Object(Lt.put)({type:rt,payload:{category:r,id:a}});case 7:case"end":return n.stop()}}),vr)}function Pr(){var e,t,r;return Dt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Lt.put)({type:Xe,payload:!0});case 2:return a.next=4,Object(Lt.select)(gr);case 4:return e=a.sent,a.next=7,Object(Lt.call)(Kt.firestore.getCollection,"collections");case 7:return t=a.sent,r={},t.forEach((function(t){var a=t.data();if(a.uid===e){a.id=t.id;var n=dr()(1e3*a.created_at.seconds).format("MMMM, YYYY");r[n]||(r[n]=[]),r[n].push(a)}})),a.next=12,Object(Lt.put)({type:at,payload:{recents:r}});case 12:return a.next=14,Object(Lt.put)({type:Xe,payload:!1});case 14:case"end":return a.stop()}}),yr)}function Vr(e){var t,r,a,n,o;return Dt.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.payload,r=t.keyword.toLowerCase(),i.next=4,Object(Lt.select)(gr);case 4:return a=i.sent,i.next=7,Object(Lt.call)(Kt.firestore.getCollection,"collections");case 7:return n=i.sent,o=[],n.forEach((function(e){var t=e.data();t.uid===a&&-1!==t.title.toLowerCase().search(r)&&(t.id=e.id,o.push(t))})),i.next=12,Object(Lt.put)({type:nt,payload:{searchStatus:!0,searchResults:o}});case 12:return i.next=14,Object(Lt.put)({type:Xe,payload:!1});case 14:case"end":return i.stop()}}),Or)}function Ar(){return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Lt.takeEvery)(He,_r);case 2:return e.next=4,Object(Lt.takeEvery)(We,wr);case 4:return e.next=6,Object(Lt.takeEvery)(ze,Er);case 6:return e.next=8,Object(Lt.takeEvery)(Ge,kr);case 8:return e.next=10,Object(Lt.takeEvery)(Me,Rr);case 10:return e.next=12,Object(Lt.takeEvery)(Ke,Sr);case 12:return e.next=14,Object(Lt.takeEvery)(Ye,Cr);case 14:return e.next=16,Object(Lt.takeEvery)(qe,Pr);case 16:return e.next=18,Object(Lt.takeEvery)(Je,Vr);case 18:case"end":return e.stop()}}),mr)}var Tr=Dt.a.mark(Ir);function Ir(){return Dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Lt.all)([er(),ir(),Ar()]);case 2:case"end":return e.stop()}}),Tr)}var Nr=Object(It.default)(),Dr=Object(wt.c)({user:St,search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;return t.type===ft?Object.assign({},e,{loading:t.payload.loading}):t.type===vt?Object.assign({},e,{loading:!1,search_result:t.payload.search_result,search_status:!0,search_error:{error:!1,msg:""}}):t.type===yt?Object.assign({},e,{loading:!1,search_result:{title:"",author_name:"",thumbnail_url:""},search_status:!1,search_error:{error:!1,msg:""}}):t.type===Ot?Object.assign({},e,{loading:!1,search_result:{title:"",author_name:"",thumbnail_url:""},search_status:!1,search_error:{error:t.payload.error_status,msg:t.payload.error_msg}}):e},collection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;if(t.type===Ze)return Object.assign({},e,{categories:Object(At.a)(t.payload.categories)});if(t.type===$e){var r=e.my_collections;return void 0===r[t.payload.video_details.category]&&(r[t.payload.video_details.category]=[]),r[t.payload.video_details.category].push(t.payload.video_details),Object.assign({},e,{my_collections:Object(Vt.a)({},r)})}if(t.type===Qe)return Object.assign({},e,{my_collections:Object(Vt.a)({},t.payload.collections)});if(t.type===Xe)return Object.assign({},e,{collection_loading:t.payload});if(t.type===et){var a,n=e.my_collections,o=t.payload.category,i=t.payload.id,s=e.favourites,c=Object(Pt.a)(n[o]);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(l.id===i)if(l.favourite=!l.favourite,l.favourite)s.push(l);else{var d=s.map((function(e){return e.id})).indexOf(l.id);d>-1&&s.splice(d,1)}}}catch(v){c.e(v)}finally{c.f()}return Object.assign({},e,{my_collections:Object(Vt.a)({},n),favourites:Object(At.a)(s)})}if(t.type===tt)return Object.assign({},e,{favourites:Object(At.a)(t.payload.favourites)});if(t.type===rt){var u=e.my_collections,h=t.payload.category,j=t.payload.id,p=e.favourites,b=u[h],f=b.map((function(e){return e.id})).indexOf(j);return f>-1&&b.splice(f,1),b.length>0?u[h]=b:delete u[h],(f=p.map((function(e){return e.id})).indexOf(j))>-1&&p.splice(f,1),Object.assign({},e,{my_collections:Object(Vt.a)({},u),favourites:Object(At.a)(p)})}return t.type===at?Object.assign({},e,{recents:Object(Vt.a)({},t.payload.recents)}):t.type===nt?Object.assign({},e,{searchStatus:t.payload.searchStatus,searchResults:Object(At.a)(t.payload.searchResults)}):e}}),Ur={key:"root",storage:kt.a,blacklist:["search"]},Fr=Object(Et.a)(Ur,Dr),Lr=Object(wt.e)(Fr,Object(wt.a)(Nr)),Br=Object(Et.b)(Lr);Nr.run(Ir);var Hr=r(245);s.a.render(Object(a.jsx)(g.a,{store:Lr,children:Object(a.jsx)(Hr.a,{loading:null,persistor:Br,children:Object(a.jsx)(xt,{})})}),document.getElementById("root")),_t()}},[[411,1,2]]]);
//# sourceMappingURL=main.d6016177.chunk.js.map